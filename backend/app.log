2025-07-05 19:16:03,030 - __main__ - INFO - Supabase client initialized successfully
2025-07-05 19:16:42,098 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-05 19:17:51,083 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-05 19:17:51,417 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-05 19:17:51,593 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-05 19:19:57,803 - __main__ - INFO - Supabase client initialized successfully
2025-07-05 19:20:21,989 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-05 19:20:31,783 - __main__ - INFO - Generating image from text: a starry sky n beachy place...
2025-07-05 19:20:47,894 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
2025-07-05 19:20:47,900 - __main__ - INFO - Successfully generated image with OpenAI DALL-E
2025-07-05 19:21:37,784 - __main__ - INFO - LightX image generation request from 127.0.0.1: clear the background...
2025-07-05 19:21:37,785 - __main__ - INFO - Created temporary image URL: http://localhost:8000/temp-image/a8e45c9b-c168-4c0f-ad61-1f6f2a25afc9
2025-07-05 19:21:37,785 - __main__ - INFO - Calling LightX API with mode: image-enhancement
2025-07-05 19:21:37,785 - __main__ - INFO - Making request to: https://api.lightxeditor.com/external/api/v1/background-generator
2025-07-05 19:21:37,785 - __main__ - INFO - LightX demo mode enabled - returning demo response
2025-07-05 19:22:18,909 - __main__ - INFO - Generating personalized recommendations for 18-25 couple group with $2000 budget
2025-07-05 19:22:26,875 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-05 19:22:26,881 - __main__ - INFO - Successfully generated recommendations with 3 destinations
2025-07-07 13:05:04,377 - __main__ - INFO - Supabase client initialized successfully
2025-07-07 13:05:21,062 - __main__ - INFO - Supabase client initialized successfully
2025-07-07 13:07:01,945 - __main__ - INFO - Supabase client initialized successfully
2025-07-07 13:13:09,744 - __main__ - INFO - Supabase client initialized successfully
2025-07-07 13:13:41,489 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 13:13:41,849 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 13:13:42,002 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=continent "HTTP/2 200 OK"
2025-07-07 13:13:42,160 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&continent=eq.South+America "HTTP/2 200 OK"
2025-07-07 13:13:42,437 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&continent=eq.Asia "HTTP/2 200 OK"
2025-07-07 13:13:42,789 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&continent=eq.Europe "HTTP/2 200 OK"
2025-07-07 13:13:42,789 - __main__ - INFO - Retrieved 3 continents from database
2025-07-07 13:13:43,050 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 13:13:43,324 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=%2A&limit=50&order=name.asc "HTTP/2 200 OK"
2025-07-07 13:13:43,326 - __main__ - INFO - Retrieved 5 destinations from database
2025-07-07 13:14:16,372 - __main__ - INFO - Generating personalized recommendations for 18-25 solo group with $3000 budget
2025-07-07 13:14:32,057 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 13:14:32,064 - __main__ - INFO - Successfully generated recommendations with 3 destinations
2025-07-07 18:13:20,906 - __main__ - INFO - Supabase client initialized successfully
2025-07-07 18:14:57,189 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 18:15:25,939 - __main__ - INFO - Generating image from text: picture me infront of paris...
2025-07-07 18:15:29,865 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 502 Bad Gateway"
2025-07-07 18:15:29,866 - openai._base_client - INFO - Retrying request to /images/generations in 0.496058 seconds
2025-07-07 18:15:51,869 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
2025-07-07 18:15:51,879 - __main__ - INFO - Successfully generated image with OpenAI DALL-E
2025-07-07 18:17:04,186 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 18:17:04,472 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 18:17:04,620 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 18:17:04,898 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=continent "HTTP/2 200 OK"
2025-07-07 18:17:05,169 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&continent=eq.Asia "HTTP/2 200 OK"
2025-07-07 18:17:05,311 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&continent=eq.Europe "HTTP/2 200 OK"
2025-07-07 18:17:05,566 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&continent=eq.South+America "HTTP/2 200 OK"
2025-07-07 18:17:05,568 - __main__ - INFO - Retrieved 3 continents from database
2025-07-07 18:17:05,864 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=%2A&limit=50&order=name.asc "HTTP/2 200 OK"
2025-07-07 18:17:05,865 - __main__ - INFO - Retrieved 5 destinations from database
2025-07-07 18:18:36,492 - __main__ - INFO - Generating personalized recommendations for 18-25 couple group with $3000 budget
2025-07-07 18:18:46,255 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 18:18:46,264 - __main__ - INFO - Successfully generated recommendations with 3 destinations
2025-07-07 18:19:54,830 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 18:19:55,167 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 18:19:55,438 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/user_visualizations?select=%2A%2Cdestinations%28id%2Cname%2Ccountry%2Ccity%2Ccontinent%29&order=created_at.desc&limit=20 "HTTP/2 200 OK"
2025-07-07 18:19:55,439 - __main__ - INFO - Retrieved 0 visualizations from database
2025-07-07 18:20:00,118 - httpx - INFO - HTTP Request: GET https://yigciabzkcpolbmisyis.supabase.co/rest/v1/destinations?select=id&limit=1 "HTTP/2 200 OK"
2025-07-07 20:22:54,719 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-07 20:32:47,395 - __main__ - INFO - Returning 6 mock continents
2025-07-07 20:33:42,608 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 20:33:42,623 - __main__ - INFO - OpenAI generated destinations: [
  {
    "id": "7a60f7d9-4da8-4b1e-9e22-6d7a4f6b6d32",
    "name": "Santorini Bliss",
    "country": "Greece",
    "city": "Santorini",
    "continent": "Europe",
    "description": "Experience the b...
2025-07-07 20:33:42,625 - __main__ - WARNING - Could not parse JSON from OpenAI response: Expecting ',' delimiter: line 117 column 83 (char 5964)
2025-07-07 20:33:42,628 - __main__ - INFO - Extracted 9 destinations from malformed JSON
2025-07-07 20:33:42,631 - __main__ - INFO - Generated 9 destinations with OpenAI
2025-07-07 21:39:41,983 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-07 21:49:36,069 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-07 22:12:04,923 - __main__ - INFO - Photo upload request received
2025-07-07 22:12:05,067 - __main__ - INFO - Photo processed successfully (mock storage): user_82d59819-4a7d-47a5-bfe9-5a7056d31371.jpg
2025-07-07 22:15:50,833 - __main__ - INFO - Returning 6 mock continents
2025-07-07 22:16:20,026 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 22:16:20,083 - __main__ - INFO - OpenAI generated destinations: [
  {
    "id": "f3b9e8bb-5b3d-41b3-bb3e-6e9d060e7c1b",
    "name": "Santorini Bliss",
    "country": "Greece",
    "city": "Santorini",
    "continent": "Europe",
    "description": "Explore the stun...
2025-07-07 22:16:20,084 - __main__ - WARNING - Could not parse JSON from OpenAI response: Expecting ',' delimiter: line 117 column 109 (char 6151)
2025-07-07 22:16:20,085 - __main__ - INFO - Extracted 9 destinations from malformed JSON
2025-07-07 22:16:20,085 - __main__ - INFO - Generated 9 destinations with OpenAI
2025-07-08 16:23:02,140 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-08 20:25:15,442 - __main__ - INFO - Photo upload request received
2025-07-08 20:25:16,246 - __main__ - INFO - Photo processed successfully (mock storage): user_6ff07043-5c2a-469d-a24d-b2335908329c.jpg
2025-07-08 20:25:16,265 - __main__ - INFO - Visualization generation request
2025-07-08 20:27:05,561 - __main__ - INFO - Photo upload request received
2025-07-08 20:27:06,184 - __main__ - INFO - Photo processed successfully (mock storage): user_ac7e198d-2405-4005-8487-5e1226d3658b.jpg
2025-07-08 20:27:06,195 - __main__ - INFO - Visualization generation request
2025-07-08 20:30:25,517 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-08 20:37:21,667 - __main__ - INFO - Photo upload request received
2025-07-08 20:37:22,359 - __main__ - INFO - Photo processed successfully (mock storage): user_f7960b6a-f7ee-4ea8-8fea-43d975b43c9e.jpg
2025-07-08 20:37:22,374 - __main__ - INFO - Visualization generation request: user_photo_url='https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo' destination_id=None prompt=None
2025-07-08 20:37:22,377 - __main__ - INFO - Raw request data: {'user_photo_url': 'https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo', 'destination_id': None, 'prompt': None}
2025-07-08 20:37:22,378 - __main__ - INFO - Extracted prompt: None
2025-07-08 20:43:05,884 - __main__ - INFO - Photo upload request received
2025-07-08 20:43:06,231 - __main__ - INFO - Photo processed successfully (mock storage): user_d14a7e25-c329-41ef-9813-d48a47d08a29.jpg
2025-07-08 20:43:06,240 - __main__ - INFO - Visualization generation request: user_photo_url='https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo' destination_id=None prompt=None
2025-07-08 20:43:06,241 - __main__ - INFO - Raw request data: {'user_photo_url': 'https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo', 'destination_id': None, 'prompt': None}
2025-07-08 20:43:06,241 - __main__ - INFO - Extracted prompt: None
2025-07-08 20:43:22,607 - __main__ - INFO - Photo upload request received
2025-07-08 20:43:23,307 - __main__ - INFO - Photo processed successfully (mock storage): user_a7121c73-be4a-4877-83ea-a9d71f96ecae.jpg
2025-07-08 20:43:23,317 - __main__ - INFO - Visualization generation request: user_photo_url='https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo' destination_id=None prompt=None
2025-07-08 20:43:23,317 - __main__ - INFO - Raw request data: {'user_photo_url': 'https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo', 'destination_id': None, 'prompt': None}
2025-07-08 20:43:23,318 - __main__ - INFO - Extracted prompt: None
2025-07-08 21:36:03,751 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-08 21:42:32,917 - __main__ - INFO - Photo upload request received
2025-07-08 21:42:33,380 - __main__ - INFO - Photo processed successfully (mock storage): user_32a1eab8-61c7-436e-a757-68827aa2a4c4.jpg
2025-07-08 21:42:33,392 - __main__ - INFO - Visualization generation request: user_photo_url='https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo' destination_id=None prompt=None
2025-07-08 21:42:33,394 - __main__ - INFO - Raw request data: {'user_photo_url': 'https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo', 'destination_id': None, 'prompt': None}
2025-07-08 21:42:33,395 - __main__ - INFO - Extracted prompt: None
2025-07-08 21:56:03,123 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-08 21:58:47,326 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-08 22:00:01,399 - __main__ - INFO - Photo upload request received
2025-07-08 22:00:01,716 - __main__ - INFO - Photo processed successfully (mock storage): user_f79da2b4-652c-49df-8c8a-ae484737c60a.jpg
2025-07-08 22:00:01,726 - __main__ - INFO - Visualization generation request: user_photo_url='https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo' destination_id=None prompt=None
2025-07-08 22:00:01,728 - __main__ - INFO - Raw request data: {'user_photo_url': 'https://via.placeholder.com/400x400/FF6B6B/FFFFFF?text=Uploaded+Photo', 'destination_id': None, 'prompt': None}
2025-07-08 22:00:01,728 - __main__ - INFO - Extracted prompt: None
2025-07-08 22:00:01,728 - __main__ - INFO - Final prompt value: '' (length: 0)
2025-07-08 22:00:01,728 - __main__ - ERROR - Both prompt and destination_id are missing. Prompt: 'None', destination_id: 'None'
2025-07-08 22:06:11,975 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-08 22:07:27,282 - __main__ - ERROR - Failed to initialize Supabase client: Client.__init__() got an unexpected keyword argument 'proxy'
2025-07-08 22:07:48,159 - httpx - INFO - HTTP Request: GET https://multimodalart-ip-adapter-faceid.hf.space/config "HTTP/1.1 200 OK"
2025-07-08 22:07:50,398 - httpx - INFO - HTTP Request: GET https://multimodalart-ip-adapter-faceid.hf.space/info?serialize=False "HTTP/1.1 200 OK"
2025-07-08 22:07:52,246 - httpx - INFO - HTTP Request: GET https://multimodalart-ip-adapter-faceid.hf.space/heartbeat/77ab67e9-6830-42e7-939f-96ab23be0838 "HTTP/1.1 200 OK"
2025-07-08 22:07:54,404 - httpx - INFO - HTTP Request: POST https://multimodalart-ip-adapter-faceid.hf.space/upload "HTTP/1.1 200 OK"
2025-07-08 22:07:56,237 - httpx - INFO - HTTP Request: POST https://multimodalart-ip-adapter-faceid.hf.space/queue/join "HTTP/1.1 200 OK"
2025-07-08 22:07:57,913 - httpx - INFO - HTTP Request: GET https://multimodalart-ip-adapter-faceid.hf.space/queue/data?session_hash=77ab67e9-6830-42e7-939f-96ab23be0838 "HTTP/1.1 200 OK"
2025-07-08 22:08:04,201 - httpx - INFO - HTTP Request: GET https://multimodalart-ip-adapter-faceid.hf.space/file=/tmp/gradio/bbfb50d015daaaf281c67a886e3593c01f6f1274/image.webp "HTTP/1.1 200 OK"
2025-07-08 22:08:06,111 - httpx - INFO - HTTP Request: GET https://multimodalart-ip-adapter-faceid.hf.space/file=/tmp/gradio/85d084527480eb8a6924fc3c1e6f595c5b8c67f9/image.webp "HTTP/1.1 200 OK"
2025-07-08 22:08:08,414 - httpx - INFO - HTTP Request: GET https://multimodalart-ip-adapter-faceid.hf.space/file=/tmp/gradio/7db06967a88b187fefa689f3bfc15fa7db468653/image.webp "HTTP/1.1 200 OK"
2025-07-08 22:08:10,243 - httpx - INFO - HTTP Request: GET https://multimodalart-ip-adapter-faceid.hf.space/file=/tmp/gradio/03edab7f29183e6ac16b75dbbc08ceaee942a866/image.webp "HTTP/1.1 200 OK"
